<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.37.1" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title> Unit Testing with JUnit &middot; 齐林的博客</title>

  
  <link type="text/css" rel="stylesheet" href="https://larryqi.github.io/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="https://larryqi.github.io/css/poole.css">
  <link type="text/css" rel="stylesheet" href="https://larryqi.github.io/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="https://larryqi.github.io/css/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link href="" rel="alternate" type="application/rss+xml" title="齐林的博客" />

  
</head>

  <body class=" ">
  <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://larryqi.github.io/"><h1>齐林的博客</h1></a>
      <p class="lead">
       Actions speak louder than words. 
      </p>
    </div>

    <ul class="sidebar-nav">
      <li><a href="https://larryqi.github.io/">Home</a> </li>
      <li><a href="/about/"> About </a></li>
    </ul>

    <p>&copy; 2018. All rights reserved. </p>
  </div>
</div>

    <div class="content container">
    <div class="post">
  <h1> Unit Testing with JUnit</h1>
  <span class="post-date">Fri, Jul 22, 2016</span>
  <p><body class="article">
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#testintroduction">1. The purpose of software tests</a></li>
<li><a href="#testingterminology">2. Testing terminology</a></li>
<li><a href="#junittesting">3. Using JUnit</a></li>
<li><a href="#usingjuni4">4. Using JUnit 4</a></li>
<li><a href="#eclipse-support-for-junit-4">5. Eclipse support for JUnit 4</a></li>
<li><a href="#installation-of-junit">6. Installation of JUnit</a></li>
<li><a href="#setting-eclipse-up-for-using-junits-static-imports">7. Setting Eclipse up for using JUnits static imports</a></li>
<li><a href="#exercise-using-junit">8. Exercise: Using JUnit</a></li>
<li><a href="#mockingframeworks">9. Mocking</a></li>
<li><a href="#junit5">10. Overview of JUnit 5</a></li>
<li><a href="#usingjunit_annotations">11. Comparison of annotations between JUnit 4 and 5</a></li>
<li><a href="#about-this-website">12. About this website</a></li>
<li><a href="#junit_links">13. JUnit Resources</a></li>
<li><a href="#copyright-and-license">Appendix A: Copyright and License</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
This tutorial explains unit testing with JUnit 4.x and JUnit5.
It explains the creation of JUnit tests.
It also covers the usage of the Eclipse IDE for developing software tests.
</blockquote>
</div>
<script async="async" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Responsive - After Table of Content -->
<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3851443674951530" data-ad-slot="4470606330" data-ad-format="auto"></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({});</script>
</div>
</div>
<div class="sect1">
<h2 id="testintroduction"><a class="link" href="#testintroduction">1. The purpose of software tests</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="whataresoftwaretests"><a class="link" href="#whataresoftwaretests">1.1. What are software tests?</a></h3>
<div class="paragraph">
<p>A software test is a piece of software, which executes another piece of software.
It  validates if that code results in the expected state (state testing) or executes the expected sequence of events (behavior testing).</p>
</div>
</div>
<div class="sect2">
<h3 id="whytesting"><a class="link" href="#whytesting">1.2. Why are software tests helpful?</a></h3>
<div class="paragraph">
<p>Software unit tests help the developer to verify that the logic of a piece of the program is correct.</p>
</div>
<div class="paragraph">
<p>Running tests automatically helps to identify software regressions introduced by changes in the source code.
Having a high test coverage of your code allows you to continue developing features without having to perform lots of manual tests.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testingterminology"><a class="link" href="#testingterminology">2. Testing terminology</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="code-or-application-under-test"><a class="link" href="#code-or-application-under-test">2.1. Code (or application) under test</a></h3>
<div class="paragraph">
<p></p>

<p>The code which is tested is typically called the <em>code under test</em>.
If you are testing an application, this is called the <em>application under test</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="junit_testfixture"><a class="link" href="#junit_testfixture">2.2. Test fixture</a></h3>
<div class="paragraph">
<p>
A <em>test fixture</em> is a fixed state in code which is tested used as input for a test.
Another way to describe this is a test precondition.</p>
</div>
<div class="paragraph">
<p>For example, a test fixture might be a a fixed string, which is used as input for a method.
The test would validate if the method behaves correctly with this input.</p>
</div>
</div>
<div class="sect2">
<h3 id="junit_intro"><a class="link" href="#junit_intro">2.3. Unit tests and unit testing</a></h3>
<div class="paragraph">
<p>
A <em>unit test</em> is a piece of code written by a developer that executes a specific functionality in the code to be tested and asserts a certain behavior or state.</p>
</div>
<div class="paragraph">
<p>The percentage of code which is tested by unit tests is typically called <em>test coverage</em>.</p>
</div>
<div class="paragraph">
<p>A unit test targets a small unit of code, e.g., a method or a class.
External dependencies should be removed from unit tests, e.g., by replacing the dependency with a test implementation or a (mock) object created by a test framework.</p>
</div>
<div class="paragraph">
<p>Unit tests are not suitable for testing complex user interface or component interaction.
For this, you should develop integration tests.</p>
</div>
</div>
<div class="sect2">
<h3 id="junit_organization"><a class="link" href="#junit_organization">2.4. Integration tests</a></h3>
<div class="paragraph">
<p></p>

<p>An <em>integration test</em> aims to test the behavior of a component or the integration between a set of components.
The term <em>functional test</em> is sometimes used as synonym for integration test.
Integration tests check that the whole system works as intended, therefore they are reducing the need for intensive manual tests.</p>
</div>
<div class="paragraph">
<p>These kinds of tests allow you to translate your user stories into a test suite.
The test would resemble an expected user interaction with the application.</p>
</div>
</div>
<div class="sect2">
<h3 id="junit_performancetests"><a class="link" href="#junit_performancetests">2.5. Performance tests</a></h3>
<div class="paragraph">
<p>
Performance tests are used to benchmark software components repeatedly.
Their purpose is to ensure that the code under test runs fast enough even if it&#8217;s under high load.</p>
</div>
</div>
<div class="sect2">
<h3 id="behaviorvsstatetesting"><a class="link" href="#behaviorvsstatetesting">2.6. Behavior vs. state testing</a></h3>
<div class="paragraph">
<p>A test is a behavior test (also called interaction test) if it  checks if certain methods were called with the correct input parameters.
A behavior test does not validate the result of a method call.</p>
</div>
<div class="paragraph">
<p>State testing is about validating the result.
Behavior testing is about testing the behavior of the application under test.</p>
</div>
<div class="paragraph">
<p>If you are testing algorithms or system functionality, in most cases you may want to test state and not interactions.
A typical test setup uses mocks or stubs of related classes to abstract the interactions with these other classes away
Afterwards you test the state or the behavior depending on your need.</p>
</div>
</div>
<div class="sect2">
<h3 id="testing-frameworks-for-java"><a class="link" href="#testing-frameworks-for-java">2.7. Testing frameworks for Java</a></h3>
<div class="paragraph">
<p>There are several testing frameworks available for Java.
The most popular ones are JUnit and TestNG</p>
</div>
<div class="paragraph">
<p>This description focuses on JUnit.
It covers both JUnit 4.x and JUnit 5.</p>
</div>
</div>
<div class="sect2">
<h3 id="junit_testorganization"><a class="link" href="#junit_testorganization">2.8. Where should the test be located?</a></h3>
<div class="paragraph">
<p>Typical, unit tests are created in a separate project or separate source folder to keep the test code separate from the real code.
The standard convention from the Maven and Gradle build tools is to use:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>src/main/java - for Java classes</p>
</li>
<li>
<p>src/test/java - for test classes</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="junit_whattotest"><a class="link" href="#junit_whattotest">2.9. Which part of the software should be tested?</a></h3>
<div class="paragraph">
<p>What should be tested is a highly controversial topic.
Some developers believe every statement in your code should be tested.</p>
</div>
<div class="paragraph">
<p>In any case you should write software tests for the critical and complex parts of your application.
If you introduce new features a solid test suite also protects you against regression in existing code.</p>
</div>
<div class="paragraph">
<p>In general it it safe to ignore trivial code.
For example, it is typical useless to write tests for getter and setter methods which simply assign values to fields.
Writing tests for these statements is time consuming and pointless, as you would be testing the Java virtual machine.
The JVM itself already has test cases for this.
If you are developing end user applications you are safe to assume that a field assignment works in Java.</p>
</div>
<div class="paragraph">
<p>If you start developing tests for an existing code base without any tests, it is good practice to start writing tests for code in which most of the errors happened in the past.
This way you can focus on the critical parts of your application.</p>
</div>
<!-- Non responsive Lake Quincy Ads
<div data-type="ad" data-publisher="lqm.javaeclipseandroid.site" data-zone="inBetween01" data-format="728x90">
</div> --></p>

<!-- Responsive Lake Quincy Ads -->

<div id='ad-inBetween01'>
    <script type='text/javascript'>googletag.cmd.push(function(){googletag.display('ad-inBetween01');});</script>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="junittesting"><a class="link" href="#junittesting">3. Using JUnit</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="unittesting_junit"><a class="link" href="#unittesting_junit">3.1. The JUnit framework</a></h3>
<div class="paragraph">
<p>

<a href="http://junit.org/">JUnit</a> is a test framework which uses annotations to identify methods that specify a test.
JUnit is an open source project hosted at <a href="https://github.com/junit-team/junit">Github</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="unittesting_junit_test"><a class="link" href="#unittesting_junit_test">3.2. How to define a test in JUnit?</a></h3>
<div class="paragraph">
<p>A JUnit <em>test</em> is a method contained in a class which is only used for testing.
This is called a <em>Test class</em>.
To define that a certain method is a test method, annotate it with the <code>@Test</code> annotation.</p>
</div>
<div class="paragraph">
<p>This method executes the code under test.
You use an <em>assert</em> method, provided by JUnit or another assert framework, to check an expected result versus the actual result.
These method calls are typically called <em>asserts</em> or <em>assert statements</em>.</p>
</div>
<div class="paragraph">
<p>You should provide meaningful messages in assert statements.
That makes it easier for the user to identify and fix the problem.
This is especially true if someone looks at the problem, who did not write the code under test or the test code.</p>
</div>
</div>
<div class="sect2">
<h3 id="unittesting_junitexample"><a class="link" href="#unittesting_junitexample">3.3. Example JUnit test</a></h3>
<div class="paragraph">
<p>The following code shows a JUnit test using the JUnit 5 version.
This test assumes that the <code>MyClass</code> class exists and has a <code>multiply(int, int)</code> method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertEquals</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">MyTests</span> {

    <span class="annotation">@Test</span>
    <span class="directive">public</span> <span class="type">void</span> multiplicationOfZeroIntegersShouldReturnZero() {
        MyClass tester = <span class="keyword">new</span> MyClass(); <span class="comment">// MyClass is tested</span>

        <span class="comment">// assert statements</span>
        assertEquals(<span class="integer">0</span>, tester.multiply(<span class="integer">10</span>, <span class="integer">0</span>), <span class="string"><span class="delimiter">&quot;</span><span class="content">10 x 0 must be 0</span><span class="delimiter">&quot;</span></span>);
        assertEquals(<span class="integer">0</span>, tester.multiply(<span class="integer">0</span>, <span class="integer">10</span>), <span class="string"><span class="delimiter">&quot;</span><span class="content">0 x 10 must be 0</span><span class="delimiter">&quot;</span></span>);
        assertEquals(<span class="integer">0</span>, tester.multiply(<span class="integer">0</span>, <span class="integer">0</span>), <span class="string"><span class="delimiter">&quot;</span><span class="content">0 x 0 must be 0</span><span class="delimiter">&quot;</span></span>);
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="junit_namingconventions"><a class="link" href="#junit_namingconventions">3.4. JUnit naming conventions</a></h3>
<div class="paragraph">
<p>
There are several potential naming conventions for JUnit tests.
A widely-used solution for classes is to use the "Test" suffix at the end of test classes names.</p>
</div>
<div class="paragraph">
<p>As a general rule, a test name should explain what the test does.
If that is done correctly, reading the actual implementation can be avoided.</p>
</div>
<div class="paragraph">
<p>One possible convention is to use the "should" in the test method name.
For example, "ordersShouldBeCreated" or "menuShouldGetActive".
This gives a hint what should happen if the test method is executed.</p>
</div>
<div class="paragraph">
<p>Another approach is to use "Given[ExplainYourInput]When[WhatIsDone]Then[ExpectedResult]" for the display name of the test method.</p>
</div>
</div>
<div class="sect2">
<h3 id="junit_namingconventions_maven"><a class="link" href="#junit_namingconventions_maven">3.5. JUnit naming conventions for Maven</a></h3>
<div class="paragraph">
<p>If you are using the Maven build system, you should use the "Test" suffix for test classes.
The Maven build system (via its surfire plug-in) automatically includes such classes in its test scope.</p>
</div>
</div>
<div class="sect2">
<h3 id="juniteclipse_code"><a class="link" href="#juniteclipse_code">3.6. Run your test from the command line</a></h3>
<div class="paragraph">
<p>You can also run your JUnit tests outside our IDE via standard Java code.
Build systems like Apache Maven or Gradle in combination with a Continuous Integration Server (like Jenkins) can be used to execute tests automatically on a regular basis.</p>
</div>
<div class="paragraph">
<p>The <code>org.junit.runner.JUnitCore</code> class provides the <code>runClasses()</code> method.
This method allows you to run one or several tests classes.
As a return parameter you receive an object of the type <code>org.junit.runner.Result</code>.
This object can be used to retrieve information about the tests.</p>
</div>
<div class="paragraph">
<p>The following class demonstrates how to run the <code>MyClassTest</code>.
This class executes your test class and write potential failures to the console.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">de.vogella.junit.first</span>;

<span class="keyword">import</span> <span class="include">org.junit.runner.JUnitCore</span>;
<span class="keyword">import</span> <span class="include">org.junit.runner.Result</span>;
<span class="keyword">import</span> <span class="include">org.junit.runner.notification.Failure</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">MyTestRunner</span> {
  <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
    <span class="predefined-type">Result</span> result = JUnitCore.runClasses(MyClassTest.class);
    <span class="keyword">for</span> (Failure failure : result.getFailures()) {
      <span class="predefined-type">System</span>.out.println(failure.toString());
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This class can be executed like any other Java program on the command line.
You only need to add the JUnit library JAR file to the classpath.</p>
</div>
</div>
<div class="sect2">
<h3 id="usingjunit_executionorder"><a class="link" href="#usingjunit_executionorder">3.7. Test execution order</a></h3>
<div class="paragraph">
<p>
JUnit assumes that all test methods can be executed in an arbitrary order.
Well-written test code should not assume any order, i.e., tests should not depend on other tests.</p>
</div>
<div class="paragraph">
<p>As of JUnit 4.11 the default is to use a deterministic, but not predictable, order for the execution of the tests.</p>
</div>
<div class="paragraph">
<p>You can use an annotation to define that the test methods are sorted by method name, in lexicographic order.
To activate this feature, annotate your test class with the <code>@FixMethodOrder(MethodSorters.NAME_ASCENDING)</code> annotation.
You can also explicitely set the default by using the <code>MethodSorters.DEFAULT</code> parameter in this annotation.
You can also use <code>MethodSorters.JVM</code> which uses the JVM defaults, which may vary from run to run.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="usingjuni4"><a class="link" href="#usingjuni4">4. Using JUnit 4</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="usingjunit_annotations"><a class="link" href="#usingjunit_annotations">4.1. Defining test methods</a></h3>
<div class="paragraph">
<p>

JUnit uses annotations to mark methods as test methods and to configure them.
The following table gives an overview of the most important annotations in JUnit for the 4.x and 5.x versions.
All these annotations can be used on methods.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Annotations</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">JUnit 4</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>import org.junit.*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import statement for using the following annotations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Test</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies a method as a test method.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Before</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Executed before each test. It is used to
prepare the test environment (e.g., read input
data, initialize the class).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@After</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Executed after each test. It is used to cleanup the test environment (e.g., delete temporary data, restore defaults). It can also save memory by cleaning up expensive memory structures.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@BeforeClass</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Executed once, before the start of all tests.
It is used to perform time intensive activities, for example, to connect to a database. Methods marked with this annotation need to be defined as <code>static</code> to work with JUnit.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@AfterClass</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Executed once, after all tests have been finished.
It is used to perform clean-up activities, for example, to disconnect from a database. Methods annotated with this annotation need to be defined as <code>static</code> to work with JUnit.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Ignore</code> or <code>@Ignore("Why disabled")</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Marks that the test should be disabled. This is useful when the
underlying code has been changed and the test case has not
yet
been
adapted. Or if the execution time of this test is too long
to be
included. It is best practice to provide
the optional
description, why the test is disabled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Test (expected = Exception.class)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fails if the method does not throw the named exception.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Test(timeout=100)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fails if the method takes longer than 100 milliseconds.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="usingjunit_asserts"><a class="link" href="#usingjunit_asserts">4.2. Assert statements</a></h3>
<div class="paragraph">
<p>
JUnit provides static methods to test for certain conditions via the <code>Assert</code> class.
These <em>assert statements</em> typically start with <code>assert</code>.
They allow you to specify the error message, the expected and the actual result.
An <em>assertion method</em> compares the actual value returned by  a test to the expected value.
It throws an <code>AssertionException</code> if the comparison fails.</p>
</div>
<div class="paragraph">
<p>The following table gives an overview of these methods.
Parameters in [] brackets are optional and of type String.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. Methods to assert test results</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Statement</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fail([message])</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Let the method fail. Might be used to check that a certain part of the code is not reached or to have a failing test before the test code is implemented.
The message parameter is optional.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">assertTrue([message,] boolean condition)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checks that the boolean condition is true.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">assertFalse([message,] boolean condition)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checks that the boolean condition is false.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">assertEquals([message,] expected, actual)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tests that two values are the same. Note: for arrays the reference is checked not the content of the arrays.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">assertEquals([message,] expected, actual, tolerance)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test that float or double values match. The tolerance is the number of decimals which must be the same.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">assertNull([message,] object)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checks that the object is null.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">assertNotNull([message,] object)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checks that the object is not null.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">assertSame([message,] expected, actual)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checks that both variables refer to the same object.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">assertNotSame([message,] expected, actual)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checks that both variables refer to different objects.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="juniteclipse_testsuite"><a class="link" href="#juniteclipse_testsuite">4.3. JUnit test suites</a></h3>
<div class="paragraph">
<p>
If you have several test classes, you can combine them into a test suite.
Running a test suite executes all test classes in that suite in the specified order.
A test suite can also contain other test suites.</p>
</div>
<div class="paragraph">
<p>The following example code demonstrates the usage of a test suite.
It  contains two test classes (MyClassTest and MySecondClassTest).
If you want to add another test class, you can add it to the <code>@Suite.SuiteClasses</code> statement.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">com.vogella.junit.first</span>;

<span class="keyword">import</span> <span class="include">org.junit.runner.RunWith</span>;
<span class="keyword">import</span> <span class="include">org.junit.runners.Suite</span>;
<span class="keyword">import</span> <span class="include">org.junit.runners.Suite.SuiteClasses</span>;

<span class="annotation">@RunWith</span>(Suite.class)
<span class="annotation">@SuiteClasses</span>({
        MyClassTest.class,
        MySecondClassTest.class })

<span class="directive">public</span> <span class="type">class</span> <span class="class">AllTests</span> {

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="disabling-tests"><a class="link" href="#disabling-tests">4.4. Disabling tests</a></h3>
<div class="paragraph">
<p>The @Ignore annotation allow to statically ignore a test.
Alternatively  you can use <code>Assume.assumeFalse</code> or <code>Assume.assumeTrue</code> to define a condition for the test.
<code>Assume.assumeFalse</code> marks the test as invalid, if its condition evaluates to true.
<code>Assume.assumeTrue</code> evaluates the test as invalid if its condition evaluates  to false.
For example, the following disables a test on Linux:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Assume.assumeFalse(<span class="predefined-type">System</span>.getProperty(<span class="string"><span class="delimiter">&quot;</span><span class="content">os.name</span><span class="delimiter">&quot;</span></span>).contains(<span class="string"><span class="delimiter">&quot;</span><span class="content">Linux</span><span class="delimiter">&quot;</span></span>));</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="junitadvanced"><a class="link" href="#junitadvanced">4.5. Parameterized test</a></h3>
<div class="paragraph">
<p>
JUnit allows you to use parameters in a tests class.
This class can contain <strong>one</strong> test method and this method is executed with the different parameters provided.</p>
</div>
<div class="paragraph">
<p>You mark a test class as a parameterized test with the <code>@RunWith(Parameterized.class)</code> annotation.</p>
</div>
<div class="paragraph">
<p>Such a test class must contain a static method annotated with the <code>@Parameters</code> annotation.
That method generates and returns a collection of arrays.
Each item in this collection is used as parameter for the test method.</p>
</div>
<div class="paragraph">
<p>You can use the <code>@Parameter</code> annotation on public fields to get the test values injected in the test.</p>
</div>
<div class="paragraph">
<p>The following code shows an example for a parameterized test.
It tests the <code>multiply()</code> method of the <code>MyClass</code> class which is included as inner class for the purpose of this example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">testing</span>;

<span class="keyword">import</span> <span class="include">org.junit.Test</span>;
<span class="keyword">import</span> <span class="include">org.junit.runner.RunWith</span>;
<span class="keyword">import</span> <span class="include">org.junit.runners.Parameterized</span>;
<span class="keyword">import</span> <span class="include">org.junit.runners.Parameterized.Parameters</span>;

<span class="keyword">import</span> <span class="include">java.util.Arrays</span>;
<span class="keyword">import</span> <span class="include">java.util.Collection</span>;

<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.Assert.assertEquals</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.runners.Parameterized</span>.*;

<span class="annotation">@RunWith</span>(Parameterized.class)
<span class="directive">public</span> <span class="type">class</span> <span class="class">ParameterizedTestFields</span> {

    <span class="comment">// fields used together with @Parameter must be public</span>
    <span class="annotation">@Parameter</span>(<span class="integer">0</span>)
    <span class="directive">public</span> <span class="type">int</span> m1;
    <span class="annotation">@Parameter</span>(<span class="integer">1</span>)
    <span class="directive">public</span> <span class="type">int</span> m2;
    <span class="annotation">@Parameter</span>(<span class="integer">2</span>)
    <span class="directive">public</span> <span class="type">int</span> result;


    <span class="comment">// creates the test data</span>
    <span class="annotation">@Parameters</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="predefined-type">Collection</span>&lt;<span class="predefined-type">Object</span><span class="type">[]</span>&gt; data() {
        <span class="predefined-type">Object</span><span class="type">[]</span><span class="type">[]</span> data = <span class="keyword">new</span> <span class="predefined-type">Object</span><span class="type">[]</span><span class="type">[]</span> { { <span class="integer">1</span> , <span class="integer">2</span>, <span class="integer">2</span> }, { <span class="integer">5</span>, <span class="integer">3</span>, <span class="integer">15</span> }, { <span class="integer">121</span>, <span class="integer">4</span>, <span class="integer">484</span> } };
        <span class="keyword">return</span> <span class="predefined-type">Arrays</span>.asList(data);
    }


    <span class="annotation">@Test</span>
    <span class="directive">public</span> <span class="type">void</span> testMultiplyException() {
        MyClass tester = <span class="keyword">new</span> MyClass();
        assertEquals(<span class="string"><span class="delimiter">&quot;</span><span class="content">Result</span><span class="delimiter">&quot;</span></span>, result, tester.multiply(m1, m2));
    }


    <span class="comment">// class to be tested</span>
    <span class="type">class</span> <span class="class">MyClass</span> {
        <span class="directive">public</span> <span class="type">int</span> multiply(<span class="type">int</span> i, <span class="type">int</span> j) {
            <span class="keyword">return</span> i *j;
        }
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively to using the <code>@Parameter</code> annotation you can use a constructor in which you store the values for each test.
The number of elements in each array
provided by
the
method annotated with
<code>@Parameters</code>
must
correspond to the number of parameters in the
constructor of the
class.
The class is created for each parameter and
the test
values are
passed
via the constructor to the class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">de.vogella.junit.first</span>;

<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.Assert.assertEquals</span>;

<span class="keyword">import</span> <span class="include">java.util.Arrays</span>;
<span class="keyword">import</span> <span class="include">java.util.Collection</span>;

<span class="keyword">import</span> <span class="include">org.junit.Test</span>;
<span class="keyword">import</span> <span class="include">org.junit.runner.RunWith</span>;
<span class="keyword">import</span> <span class="include">org.junit.runners.Parameterized</span>;
<span class="keyword">import</span> <span class="include">org.junit.runners.Parameterized.Parameters</span>;

<span class="annotation">@RunWith</span>(Parameterized.class)
<span class="directive">public</span> <span class="type">class</span> <span class="class">ParameterizedTestUsingConstructor</span> {

    <span class="directive">private</span> <span class="type">int</span> m1;
    <span class="directive">private</span> <span class="type">int</span> m2;

    <span class="directive">public</span> ParameterizedTestUsingConstructor(<span class="type">int</span> p1, <span class="type">int</span> p2) {
        m1 = p1;
        m2 = p2;
    }

    <span class="comment">// creates the test data</span>
    <span class="annotation">@Parameters</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="predefined-type">Collection</span>&lt;<span class="predefined-type">Object</span><span class="type">[]</span>&gt; data() {
        <span class="predefined-type">Object</span><span class="type">[]</span><span class="type">[]</span> data = <span class="keyword">new</span> <span class="predefined-type">Object</span><span class="type">[]</span><span class="type">[]</span> { { <span class="integer">1</span> , <span class="integer">2</span> }, { <span class="integer">5</span>, <span class="integer">3</span> }, { <span class="integer">121</span>, <span class="integer">4</span> } };
        <span class="keyword">return</span> <span class="predefined-type">Arrays</span>.asList(data);
    }


    <span class="annotation">@Test</span>
    <span class="directive">public</span> <span class="type">void</span> testMultiplyException() {
        MyClass tester = <span class="keyword">new</span> MyClass();
        assertEquals(<span class="string"><span class="delimiter">&quot;</span><span class="content">Result</span><span class="delimiter">&quot;</span></span>, m1 * m2, tester.multiply(m1, m2));
    }


    <span class="comment">// class to be tested</span>
    <span class="type">class</span> <span class="class">MyClass</span> {
        <span class="directive">public</span> <span class="type">int</span> multiply(<span class="type">int</span> i, <span class="type">int</span> j) {
            <span class="keyword">return</span> i *j;
        }
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you run this test class, the test method is executed with each defined parameter.
In the above example the test method is executed three times.</p>
</div>
<div class="paragraph">
<p>A more flexible and easier to write approach is provided by the JUnitParams from <a href="https://github.com/Pragmatists/JUnitParams" class="bare">https://github.com/Pragmatists/JUnitParams</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="junitadvanced_rules"><a class="link" href="#junitadvanced_rules">4.6. JUnit Rules</a></h3>
<div class="paragraph">
<p>
Via JUnit rules you can add behavior to each tests in a test class.
You can annotate fields of type <code>TestRule</code> with the <code>@Rule</code> annotation.
You can create objects which can be used and configured in your test methods.
This adds more flexibility to your tests.
You could, for example, specify which exception message you expect during the execution of your test code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">de.vogella.junit.first</span>;

<span class="keyword">import</span> <span class="include">org.junit.Rule</span>;
<span class="keyword">import</span> <span class="include">org.junit.Test</span>;
<span class="keyword">import</span> <span class="include">org.junit.rules.ExpectedException</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">RuleExceptionTesterExample</span> {

  <span class="annotation">@Rule</span>
  <span class="directive">public</span> ExpectedException exception = ExpectedException.none();

  <span class="annotation">@Test</span>
  <span class="directive">public</span> <span class="type">void</span> throwsIllegalArgumentExceptionIfIconIsNull() {
    exception.expect(<span class="exception">IllegalArgumentException</span>.class);
    exception.expectMessage(<span class="string"><span class="delimiter">&quot;</span><span class="content">Negative value not allowed</span><span class="delimiter">&quot;</span></span>);
    ClassToBeTested t = <span class="keyword">new</span> ClassToBeTested();
    t.methodToBeTest(-<span class="integer">1</span>);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>JUnit already provides several useful rule implementations.
For example, the <code>TemporaryFolder</code> class allows to setup files and folders which are automatically removed after each test run.</p>
</div>
<div class="paragraph">
<p>The following code shows an example for the usage of the <code>TemporaryFolder</code> implementation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">de.vogella.junit.first</span>;

<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.Assert.assertTrue</span>;

<span class="keyword">import</span> <span class="include">java.io.File</span>;
<span class="keyword">import</span> <span class="include">java.io.IOException</span>;

<span class="keyword">import</span> <span class="include">org.junit.Rule</span>;
<span class="keyword">import</span> <span class="include">org.junit.Test</span>;
<span class="keyword">import</span> <span class="include">org.junit.rules.TemporaryFolder</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">RuleTester</span> {

  <span class="annotation">@Rule</span>
  <span class="directive">public</span> TemporaryFolder folder = <span class="keyword">new</span> TemporaryFolder();

  <span class="annotation">@Test</span>
  <span class="directive">public</span> <span class="type">void</span> testUsingTempFolder() <span class="directive">throws</span> <span class="exception">IOException</span> {
    <span class="predefined-type">File</span> createdFolder = folder.newFolder(<span class="string"><span class="delimiter">&quot;</span><span class="content">newfolder</span><span class="delimiter">&quot;</span></span>);
    <span class="predefined-type">File</span> createdFile = folder.newFile(<span class="string"><span class="delimiter">&quot;</span><span class="content">myfilefile.txt</span><span class="delimiter">&quot;</span></span>);
    assertTrue(createdFile.exists());
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more examples of existing rules see <a href="https://github.com/junit-team/junit4/wiki/Rules" class="bare">https://github.com/junit-team/junit4/wiki/Rules</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="writing-custom-junit-rules"><a class="link" href="#writing-custom-junit-rules">4.7. Writing custom JUnit rules</a></h3>
<div class="paragraph">
<p>To write your custom rule, you need to implement the <code>TestRule</code> interface.
This interface defines the <code>apply(Statement, Description)</code> method which must return an instance of <code>Statement</code>.
Statement represent the tests within the JUnit runtime and Statement#evaluate() run these.
Description describes the individual test.
It allows to read information about the test via reflection.</p>
</div>
<div class="paragraph">
<p>The following is a simple example for adding a log statement to an Android application before and after test execution.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">testing.android.vogella.com.asynctask</span>;


<span class="keyword">import</span> <span class="include">android.util.Log</span>;

<span class="keyword">import</span> <span class="include">org.junit.rules.TestRule</span>;
<span class="keyword">import</span> <span class="include">org.junit.runner.Description</span>;
<span class="keyword">import</span> <span class="include">org.junit.runners.model.Statement</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">MyCustomRule</span> <span class="directive">implements</span> TestRule {
    <span class="directive">private</span> <span class="predefined-type">Statement</span> base;
    <span class="directive">private</span> Description description;

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="predefined-type">Statement</span> apply(<span class="predefined-type">Statement</span> base, Description description) {
        <span class="local-variable">this</span>.base = base;
        <span class="local-variable">this</span>.description = description;
        <span class="keyword">return</span> <span class="keyword">new</span> MyStatement(base);
    }

    <span class="directive">public</span> <span class="type">class</span> <span class="class">MyStatement</span> <span class="directive">extends</span> <span class="predefined-type">Statement</span> {
        <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">Statement</span> base;

        <span class="directive">public</span> MyStatement(<span class="predefined-type">Statement</span> base) {
            <span class="local-variable">this</span>.base = base;
        }

        <span class="annotation">@Override</span>
        <span class="directive">public</span> <span class="type">void</span> evaluate() <span class="directive">throws</span> <span class="predefined-type">Throwable</span> {
            <span class="predefined-type">System</span>.
            Log.w(<span class="string"><span class="delimiter">&quot;</span><span class="content">MyCustomRule</span><span class="delimiter">&quot;</span></span>,description.getMethodName() + <span class="string"><span class="delimiter">&quot;</span><span class="content">Started</span><span class="delimiter">&quot;</span></span> );
            <span class="keyword">try</span> {
                base.evaluate();
            } <span class="keyword">finally</span> {
                Log.w(<span class="string"><span class="delimiter">&quot;</span><span class="content">MyCustomRule</span><span class="delimiter">&quot;</span></span>,description.getMethodName() + <span class="string"><span class="delimiter">&quot;</span><span class="content">Finished</span><span class="delimiter">&quot;</span></span>);
            }
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To use this rule, simple add a field annotated with <code>@Rule</code> to your test class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Rule</span>
<span class="directive">public</span> MyCustomRule myRule = <span class="keyword">new</span> MyCustomRule();</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="junitadvanced_categories"><a class="link" href="#junitadvanced_categories">4.8. Categories</a></h3>
<div class="paragraph">
<p>
It is possible to define categories of tests and include or exclude them based on annotations.
The following example is based on the <a href="https://github.com/junit-team/junit/blob/master/doc/ReleaseNotes4.8.md">JUnit 4.8 release notes</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">interface</span> <span class="class">FastTests</span> { <span class="comment">/* category marker */</span>
}

<span class="directive">public</span> <span class="type">interface</span> <span class="class">SlowTests</span> { <span class="comment">/* category marker */</span>
}

<span class="directive">public</span> <span class="type">class</span> <span class="class">A</span> {
    <span class="annotation">@Test</span>
    <span class="directive">public</span> <span class="type">void</span> a() {
        fail();
    }

    <span class="annotation">@Category</span>(SlowTests.class)
    <span class="annotation">@Test</span>
    <span class="directive">public</span> <span class="type">void</span> b() {
    }
}

<span class="annotation">@Category</span>({ SlowTests.class, FastTests.class })
<span class="directive">public</span> <span class="type">class</span> <span class="class">B</span> {
    <span class="annotation">@Test</span>
    <span class="directive">public</span> <span class="type">void</span> c() {
    }
}

<span class="annotation">@RunWith</span>(Categories.class)
<span class="annotation">@IncludeCategory</span>(SlowTests.class)
<span class="annotation">@SuiteClasses</span>({ A.class, B.class })
<span class="comment">// Note that Categories is a kind of Suite</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">SlowTestSuite</span> {
    <span class="comment">// Will run A.b and B.c, but not A.a</span>
}

<span class="annotation">@RunWith</span>(Categories.class)
<span class="annotation">@IncludeCategory</span>(SlowTests.class)
<span class="annotation">@ExcludeCategory</span>(FastTests.class)
<span class="annotation">@SuiteClasses</span>({ A.class, B.class })
<span class="comment">// Note that Categories is a kind of Suite</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">SlowTestSuite</span> {
    <span class="comment">// Will run A.b, but not A.a or B.c</span>
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="eclipse-support-for-junit-4"><a class="link" href="#eclipse-support-for-junit-4">5. Eclipse support for JUnit 4</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="eclipse_creatingjunittest"><a class="link" href="#eclipse_creatingjunittest">5.1. Creating JUnit tests</a></h3>
<div class="paragraph">
<p>
You can write the JUnit tests manually, but Eclipse supports the creation of JUnit tests via wizards.</p>
</div>
<div class="paragraph">
<p>For example, to create a JUnit test or a test class for an existing class.
Right-click on your new class, select this class in the Package Explorer_ view, right-click on it
and select <span class="menuseq"><span class="menu">New</span>&#160;&#9656; <span class="menuitem">JUnit Test Case</span></span>.</p>
</div>
<div class="paragraph">
<p>Alternatively you can also use the JUnit wizards available under <span class="menuseq"><span class="menu">File</span>&#160;&#9656; <span class="submenu">New</span>&#160;&#9656; <span class="submenu">Other&#8230;&#8203;</span>&#160;&#9656; <span class="submenu">Java</span>&#160;&#9656; <span class="menuitem">JUnit</span></span>.</p>
</div>
</div>
<div class="sect2">
<h3 id="running-junit-tests"><a class="link" href="#running-junit-tests">5.2. Running JUnit tests</a></h3>
<div class="paragraph">
<p>The Eclipse IDE also provides support for executing your tests interactively.</p>
</div>
<div class="paragraph">
<p>To run a test, select the test class, right-click on it and select <span class="menuseq"><span class="menu">Run-as</span>&#160;&#9656; <span class="menuitem">JUnit Test</span></span>.</p>
</div>
<div class="paragraph">
<p>This starts JUnit and executes all test methods in this class.</p>
</div>
<div class="paragraph">
<p>Eclipse provides the <span class="keyseq"><kbd>Alt</kbd>+<kbd>Shift</kbd>+<kbd>X</kbd></span>, <kbd>T</kbd> shortcut to run the test in the selected class.</p>
</div>
<div class="paragraph">
<p>To run only the selected test, position the cursor on the test method name and use the shortcut.</p>
</div>
<div class="paragraph">
<p>To see the result of a JUnit test, Eclipse uses the <em>JUnit</em> view which shows the results of the tests.
You can also select individual unit tests in this view, right-click on them and select <em>Run</em> to execute them again.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/xjunitview10.png.pagespeed.ic.vLB_Q1w0yd.webp" alt="JUnit view">
</div>
</div>
<div class="paragraph">
<p>By default, this view shows all tests.
You can also configure, that it only shows failing tests.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/xjunit_showonerroronly.png.pagespeed.ic.muI0DehN5J.webp" alt="JUnit view">
</div>
</div>
<div class="paragraph">
<p>You can also define that the view is only activated if you have a failing test.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/xjunit_showonerroronly2.png.pagespeed.ic.syElgy8Ym5.webp" alt="JUnit view">
</div>
</div>
<div class="paragraph">
<p>NOTE:Eclipse creates run configurations for tests. You can see and modify these via the
<span class="menuseq"><span class="menu">Run</span>&#160;&#9656; <span class="menuitem">Run Configurations&#8230;&#8203;</span></span> menu.</p>
</div>
</div>
<div class="sect2">
<h3 id="usingjunit_failedtests"><a class="link" href="#usingjunit_failedtests">5.3. Extracting the failed test and stacktraces</a></h3>
<div class="paragraph">
<p>To get the list of failed test,  right click on the test result and select
<em>Copy Failure List</em>. This copies the failed tests and there stack traces into the clipboard.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/xjunitcopyfailurelist10.png.pagespeed.ic.-Cw8Y_uqHL.webp" alt="Copy failed tests into clipboard">
</div>
</div>
</div>
<div class="sect2">
<h3 id="usingjunit_staticimports"><a class="link" href="#usingjunit_staticimports">5.4. JUnit static imports</a></h3>
<div class="paragraph">
<p>
Static import is a feature that allows fields and methods defined in a class as <code>public static</code> to be used without specifying the class in which the field is defined.</p>
</div>
<div class="paragraph">
<p>JUnit assert statements are typically defined as <code>public static</code> to allow the developer to write short test statements.
The following snippet demonstrates an assert statement with and without static imports.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// without static imports you have to write the following statement</span>
Assert.assertEquals(<span class="string"><span class="delimiter">&quot;</span><span class="content">10 x 5 must be 50</span><span class="delimiter">&quot;</span></span>, <span class="integer">50</span>, tester.multiply(<span class="integer">10</span>, <span class="integer">5</span>));


<span class="comment">// alternatively define assertEquals as static import</span>
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.Assert.assertEquals</span>;

<span class="comment">// more code</span>

<span class="comment">// use assertEquals directly because of the static import</span>
assertEquals(<span class="string"><span class="delimiter">&quot;</span><span class="content">10 x 5 must be 50</span><span class="delimiter">&quot;</span></span>, <span class="integer">50</span>, tester.multiply(<span class="integer">10</span>, <span class="integer">5</span>));</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="usingjunit_testsuites"><a class="link" href="#usingjunit_testsuites">5.5. Wizard for creating test suites</a></h3>
<div class="paragraph">
<p>You can create a test suite via Eclipse.
For this, select the test classes which should be included in suite in the <em>Package Explorer</em> view, right-click on them and select <span class="menuseq"><span class="menu">New</span>&#160;&#9656; <span class="submenu">Other&#8230;&#8203;</span>&#160;&#9656; <span class="submenu">JUnit</span>&#160;&#9656; <span class="menuitem">JUnit Test Suite</span></span>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/xjunittestsuite10.png.pagespeed.ic.hSuAliHYw2.webp" alt="Create a test suite">
</div>
</div>
</div>
<div class="sect2">
<h3 id="usingjunit_execption"><a class="link" href="#usingjunit_execption">5.6. Testing exception</a></h3>
<div class="paragraph">
<p>
The <code>@Test (expected = Exception.class)</code> annotation is limited as it can only test for one exception.
To testexceptions, you can use the following testpattern.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">try</span> {
   mustThrowException();
   fail();
} <span class="keyword">catch</span> (<span class="exception">Exception</span> e) {
   <span class="comment">// expected</span>
   <span class="comment">// could also check for message of exception, etc.</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="usingjunit_plugintest"><a class="link" href="#usingjunit_plugintest">5.7. JUnit Plug-in Test</a></h3>
<div class="paragraph">
<p>

JUnit Plug-in tests are used to write unit tests for your plug-ins.
These tests are executed by a special test runner that launches another Eclipse instance in a separate VM.
The test methods are executed within that instance.</p>
</div>
<!-- Responsive Lake Quincy Ads -->
<div id='ad-inBetween02'>
    <script type='text/javascript'>googletag.cmd.push(function(){googletag.display('ad-inBetween02');});</script>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installation-of-junit"><a class="link" href="#installation-of-junit">6. Installation of JUnit</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="using-junit-with-gradle"><a class="link" href="#using-junit-with-gradle">6.1. Using JUnit with Gradle</a></h3>
<div class="paragraph">
<p>To use JUnit in your Gradle build, add a testCompile dependency to your build file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">apply <span class="key">plugin</span>: <span class="string"><span class="delimiter">'</span><span class="content">java</span><span class="delimiter">'</span></span>

dependencies {
  testCompile <span class="string"><span class="delimiter">'</span><span class="content">junit:junit:4.12</span><span class="delimiter">'</span></span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="using-junit-with-maven"><a class="link" href="#using-junit-with-maven">6.2. Using JUnit with Maven</a></h3>
<div class="paragraph">
<p>To use JUnit in your Maven build, add the following dependency to your pom file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>junit<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>junit<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>4.12<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="using-junit-without-maven-or-gradle"><a class="link" href="#using-junit-without-maven-or-gradle">6.3. Using JUnit without Maven or Gradle</a></h3>
<div class="paragraph">
<p>The Eclipse IDE ships with a version of JUnit.</p>
</div>
<div class="paragraph">
<p>It is also possible to download the  JUnit library explicitly from the <a href="http://junit.org/">JUnit</a> website.
Add this library to your classpath, to use it.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setting-eclipse-up-for-using-junits-static-imports"><a class="link" href="#setting-eclipse-up-for-using-junits-static-imports">7. Setting Eclipse up for using JUnits static imports</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Eclipse IDE cannot always create the corresponding <code>static import</code> statements automatically.</p>
</div>
<div class="paragraph">
<p>You can configure the Eclipse IDE to
use code completion to insert typical JUnit method calls and to add the static
import automatically.
For this
open the
Preferences via <span class="menuseq"><span class="menu">Window</span>&#160;&#9656; <span class="menuitem">Preferences</span></span> and select <span class="menuseq"><span class="menu">Java</span>&#160;&#9656; <span class="submenu">Editor</span>&#160;&#9656; <span class="submenu">Content Assist</span>&#160;&#9656; <span class="menuitem">Favorites</span></span>.</p>
</div>
<div class="paragraph">
<p>Use the
<b class="button">New Type</b> button to add the following entries to it:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>org.junit.Assert</code></p>
</li>
<li>
<p><code>org.hamcrest.CoreMatchers</code></p>
</li>
<li>
<p><code>org.hamcrest.Matchers</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This makes, for example, the <code>assertTrue</code>, <code>assertFalse</code> and <code>assertEquals</code> methods directly available in the <em>Content Assists</em>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/xstaticimport10.png.pagespeed.ic.Rv9IRD2fb_.webp" alt="Adding static imports to the preferences">
</div>
</div>
<div class="paragraph">
<p>You can now use <em>Content Assists</em> (shortcut: <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>Space</kbd></span>) to add the method and the import.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="exercise-using-junit"><a class="link" href="#exercise-using-junit">8. Exercise: Using JUnit</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="project-preparation"><a class="link" href="#project-preparation">8.1. Project preparation</a></h3>
<div class="paragraph">
<p>Create a new project called
<em>com.vogella.junit.first</em>.
Create a new source
folder
<em>test</em>. For this
right-click on your
project,
select
<em>Properties</em>
and choose
<span class="menuseq"><span class="menu">Java</span>&#160;&#9656; <span class="menuitem">Build Path</span></span>.
Select the <em>Source</em> tab.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/xjunit10.png.pagespeed.ic.YAQdLxdoRT.webp" alt="Create new source folder for the tests">
</div>
</div>
<div class="paragraph">
<p>Press the <b class="button">Add Folder</b> button.
Afterwards, press the <b class="button">Create New Folder</b> button.
Enter <em>test</em> as folder name.</p>
</div>
<div class="paragraph">
<p>The result is depicted in the following screenshot.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/xjunit20.png.pagespeed.ic.8dcvpjQze4.webp" alt="Creating a new folder">
</div>
</div>
<div class="paragraph">
<p>NOTE:You can also add a new source folder by right-clicking on a project and selecting <span class="menuseq"><span class="menu">New</span>&#160;&#9656; <span class="menuitem">Source Folder</span></span>.</p>
</div>
</div>
<div class="sect2">
<h3 id="create-a-java-class"><a class="link" href="#create-a-java-class">8.2. Create a Java class</a></h3>
<div class="paragraph">
<p>In the <em>src</em> folder, create the <code>com.vogella.junit.first</code> package and the following class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">com.vogella.junit.first</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">MyClass</span> {
  <span class="directive">public</span> <span class="type">int</span> multiply(<span class="type">int</span> x, <span class="type">int</span> y) {
    <span class="comment">// the following is just an example</span>
    <span class="keyword">if</span> (x &gt; <span class="integer">999</span>) {
      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">IllegalArgumentException</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">X should be less than 1000</span><span class="delimiter">&quot;</span></span>);
    }
    <span class="keyword">return</span> x / y;
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="create-a-junit-test"><a class="link" href="#create-a-junit-test">8.3. Create a JUnit test</a></h3>
<div class="paragraph">
<p>Right-click on your new class in the
<em>Package Explorer</em>
view
and select
<span class="menuseq"><span class="menu">New</span>&#160;&#9656; <span class="menuitem">JUnit Test Case</span></span>.</p>
</div>
<div class="paragraph">
<p>In the following wizard
ensure that the
<em>New JUnit 4 test</em>
flag
is selected
and set the source folder to
<em>test</em>,
so
that your test class gets created in this folder.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/xjunit30.png.pagespeed.ic.sA9cIvCzHl.webp" alt="Create new test class">
</div>
</div>
<div class="paragraph">
<p>Press the <b class="button">Next</b> button and select the methods that you want to test.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/xjunit40.png.pagespeed.ic.U0dxy0131Z.webp" alt="Selecting the methods to test">
</div>
</div>
<div class="paragraph">
<p>If the JUnit library is not part of the classpath of your
project, Eclipse
will
prompt you to add it. Use this to add JUnit to
your project.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/xjunit50.png.pagespeed.ic.Wo2DbHZS6l.webp" alt="Eclipse prompt for adding JUnit to the project classpath">
</div>
</div>
<div class="paragraph">
<p>Create a test with the following code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">com.vogella.junit.first</span>;

<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.Assert.assertEquals</span>;

<span class="keyword">import</span> <span class="include">org.junit.AfterClass</span>;
<span class="keyword">import</span> <span class="include">org.junit.BeforeClass</span>;
<span class="keyword">import</span> <span class="include">org.junit.Test</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">MyClassTest</span> {

  <span class="annotation">@Test</span>(expected = <span class="exception">IllegalArgumentException</span>.class)
  <span class="directive">public</span> <span class="type">void</span> testExceptionIsThrown() {
    MyClass tester = <span class="keyword">new</span> MyClass();
    tester.multiply(<span class="integer">1000</span>, <span class="integer">5</span>);
  }

  <span class="annotation">@Test</span>
  <span class="directive">public</span> <span class="type">void</span> testMultiply() {
    MyClass tester = <span class="keyword">new</span> MyClass();
    assertEquals(<span class="string"><span class="delimiter">&quot;</span><span class="content">10 x 5 must be 50</span><span class="delimiter">&quot;</span></span>, <span class="integer">50</span>, tester.multiply(<span class="integer">10</span>, <span class="integer">5</span>));
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="run-your-test-in-eclipse"><a class="link" href="#run-your-test-in-eclipse">8.4. Run your test in Eclipse</a></h3>
<div class="paragraph">
<p>Right-click on your new test class and select
<span class="menuseq"><span class="menu">Run-As</span>&#160;&#9656; <span class="menuitem">JUnit Test</span></span>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/xjunit60.png.pagespeed.ic.bZxWEO8Ko7.webp" alt="Run JUnit test in Eclipse">
</div>
</div>
<div class="paragraph">
<p>The result of the tests are displayed in the JUnit
view. In
our example one test should be successful and one test should
show an
error. This error is indicated by a red bar.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/xjunit70.png.pagespeed.ic.rFUslg5C6o.webp" alt="Result of running a unit test">
</div>
</div>
<div class="paragraph">
<p>The test is failing,
because our multiplier class is
currently not
working
correctly. It
does a
division instead of
multiplication. Fix the
bug
and re-run the
test to get
a green bar.</p>
</div>
<div id='ad-inBetween03'>
    <script type='text/javascript'>googletag.cmd.push(function(){googletag.display('ad-inBetween03');});</script>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mockingframeworks"><a class="link" href="#mockingframeworks">9. Mocking</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Unit testing also makes use of object mocking. In this case the real
object is exchanged by a replacement which has a predefined behavior
for the test.</p>
</div>
<div class="paragraph">
<p>There are several frameworks available for mocking.
To learn more about mock frameworks please see the <a href="http://www.vogella.com/tutorials/Mockito/article.html">Mockito tutorial</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="junit5"><a class="link" href="#junit5">10. Overview of JUnit 5</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>JUnit 5 is the latest major release of JUnit.</p>
</div>
<div class="paragraph">
<p>JUnit 5 consists of a number of discrete components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>JUnit Platform - foundation layer which enables different testing frameworks to be launched on the JVM</p>
</li>
<li>
<p>Junit Jupiter - is the JUnit 5 test framework which is launched by JUnit Platform</p>
</li>
<li>
<p>JUnit Vintage - legacy TestEngine which runs older tests</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="usage-of-junit-5-with-gradle"><a class="link" href="#usage-of-junit-5-with-gradle">10.1. Usage of JUnit 5 with Gradle</a></h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">buildscript {
    repositories {
        mavenCentral()
        <span class="comment">// The following is only necessary if you want to use SNAPSHOT releases.</span>
        <span class="comment">// maven { url 'https://oss.sonatype.org/content/repositories/snapshots' }</span>
    }
    dependencies {
        classpath <span class="string"><span class="delimiter">'</span><span class="content">org.junit.platform:junit-platform-gradle-plugin:1.0.0</span><span class="delimiter">'</span></span>
    }
}

repositories {
    mavenCentral()
}

apply <span class="key">plugin</span>: <span class="string"><span class="delimiter">'</span><span class="content">java</span><span class="delimiter">'</span></span>
apply <span class="key">plugin</span>: <span class="string"><span class="delimiter">'</span><span class="content">eclipse</span><span class="delimiter">'</span></span>
apply <span class="key">plugin</span>: <span class="string"><span class="delimiter">'</span><span class="content">org.junit.platform.gradle.plugin</span><span class="delimiter">'</span></span>

dependencies {
    testImplementation(<span class="string"><span class="delimiter">&quot;</span><span class="content">org.junit.jupiter:junit-jupiter-api:5.0.0</span><span class="delimiter">&quot;</span></span>)
    testRuntime(<span class="string"><span class="delimiter">&quot;</span><span class="content">org.junit.jupiter:junit-jupiter-engine:5.0.0</span><span class="delimiter">&quot;</span></span>)
    <span class="comment">// to run JUnit 3/4 tests:</span>
    testImplementation(<span class="string"><span class="delimiter">&quot;</span><span class="content">junit:junit:4.12</span><span class="delimiter">&quot;</span></span>)
    testRuntime(<span class="string"><span class="delimiter">&quot;</span><span class="content">org.junit.vintage:junit-vintage-engine:4.12.0</span><span class="delimiter">&quot;</span></span>)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can find the official gradle.build example here: <a href="https://github.com/junit-team/junit5-samples/blob/master/junit5-gradle-consumer/build.gradle" class="bare">https://github.com/junit-team/junit5-samples/blob/master/junit5-gradle-consumer/build.gradle</a></p>
</div>
<div class="paragraph">
<p>After letting gradle set up your project can then execute your JUnit 5 tests through the terminal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="terminal">gradle junitPlatformTest</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you are using Eclipse it is best to install the <a href="http://www.vogella.com/tutorials/EclipseGradle/article.html#install-eclipse-gradle-buildship-tooling">Buildship tooling</a>.
Then you can start your tests via <span class="menuseq"><span class="menu">Run as</span>&#160;&#9656; <span class="menuitem">Gradle Test</span></span>.
The result of the test execution will be displayed in the <code>Console</code> view.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/xrun_as_gradle_test.png.pagespeed.ic.1tg-tsrAuS.webp" alt="Menu entry " Run as" &gt; "Gradle Test"">
</div>
</div>
</div>
<div class="sect2">
<h3 id="usage-of-junit-5-with-maven"><a class="link" href="#usage-of-junit-5-with-maven">10.2. Usage of JUnit 5 with Maven</a></h3>
<div class="paragraph">
<p>This example shows how to import all components of JUnit 5 into your project.</p>
</div>
<div class="paragraph">
<p>We need to register the individual components with Maven surefire:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;build&gt;</span>
    <span class="tag">&lt;plugins&gt;</span>
        <span class="tag">&lt;plugin&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>maven-compiler-plugin<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>3.1<span class="tag">&lt;/version&gt;</span>
            <span class="tag">&lt;configuration&gt;</span>
                <span class="tag">&lt;source&gt;</span>${java.version}<span class="tag">&lt;/source&gt;</span>
                <span class="tag">&lt;target&gt;</span>${java.version}<span class="tag">&lt;/target&gt;</span>
            <span class="tag">&lt;/configuration&gt;</span>
        <span class="tag">&lt;/plugin&gt;</span>
        <span class="tag">&lt;plugin&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>2.19.1<span class="tag">&lt;/version&gt;</span>
            <span class="tag">&lt;configuration&gt;</span>
                <span class="tag">&lt;includes&gt;</span>
                    <span class="tag">&lt;include&gt;</span>**/Test*.java<span class="tag">&lt;/include&gt;</span>
                    <span class="tag">&lt;include&gt;</span>**/*Test.java<span class="tag">&lt;/include&gt;</span>
                    <span class="tag">&lt;include&gt;</span>**/*Tests.java<span class="tag">&lt;/include&gt;</span>
                    <span class="tag">&lt;include&gt;</span>**/*TestCase.java<span class="tag">&lt;/include&gt;</span>
                <span class="tag">&lt;/includes&gt;</span>
                <span class="tag">&lt;properties&gt;</span>
                    <span class="comment">&lt;!-- &lt;includeTags&gt;fast&lt;/includeTags&gt; --&gt;</span>
                    <span class="tag">&lt;excludeTags&gt;</span>slow<span class="tag">&lt;/excludeTags&gt;</span>
                <span class="tag">&lt;/properties&gt;</span>
            <span class="tag">&lt;/configuration&gt;</span>
            <span class="tag">&lt;dependencies&gt;</span>
                <span class="tag">&lt;dependency&gt;</span>
                    <span class="tag">&lt;groupId&gt;</span>org.junit.platform<span class="tag">&lt;/groupId&gt;</span>
                    <span class="tag">&lt;artifactId&gt;</span>junit-platform-surefire-provider<span class="tag">&lt;/artifactId&gt;</span>
                    <span class="tag">&lt;version&gt;</span>${junit.platform.version}<span class="tag">&lt;/version&gt;</span>
                <span class="tag">&lt;/dependency&gt;</span>
                <span class="tag">&lt;dependency&gt;</span>
                    <span class="tag">&lt;groupId&gt;</span>org.junit.jupiter<span class="tag">&lt;/groupId&gt;</span>
                    <span class="tag">&lt;artifactId&gt;</span>junit-jupiter-engine<span class="tag">&lt;/artifactId&gt;</span>
                    <span class="tag">&lt;version&gt;</span>${junit.jupiter.version}<span class="tag">&lt;/version&gt;</span>
                <span class="tag">&lt;/dependency&gt;</span>
                <span class="tag">&lt;dependency&gt;</span>
                    <span class="tag">&lt;groupId&gt;</span>org.junit.vintage<span class="tag">&lt;/groupId&gt;</span>
                    <span class="tag">&lt;artifactId&gt;</span>junit-vintage-engine<span class="tag">&lt;/artifactId&gt;</span>
                    <span class="tag">&lt;version&gt;</span>${junit.vintage.version}<span class="tag">&lt;/version&gt;</span>
                <span class="tag">&lt;/dependency&gt;</span>
            <span class="tag">&lt;/dependencies&gt;</span>
        <span class="tag">&lt;/plugin&gt;</span>
    <span class="tag">&lt;/plugins&gt;</span>
<span class="tag">&lt;/build&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>And add the dependencies:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependencies&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>org.junit.jupiter<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>junit-jupiter-api<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>${junit.jupiter.version}<span class="tag">&lt;/version&gt;</span>
        <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>junit<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>junit<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>${junit.version}<span class="tag">&lt;/version&gt;</span>
        <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
<span class="tag">&lt;/dependencies&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can find a complete example of a working maven configuration here: <a href="https://github.com/junit-team/junit5-samples/blob/r5.0.0-M4/junit5-maven-consumer/pom.xml" class="bare">https://github.com/junit-team/junit5-samples/blob/r5.0.0-M4/junit5-maven-consumer/pom.xml</a></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The above works for Java projects but not yet for Android projects.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="usingjunit_annotations"><a class="link" href="#usingjunit_annotations">10.3. Defining test methods</a></h3>
<div class="paragraph">
<p>

JUnit uses annotations to mark methods as test methods and to configure them.
The following table gives an overview of the most important annotations in JUnit for the 4.x and 5.x versions.
All these annotations can be used on methods.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 3. Annotations</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><code>import org.junit.jupiter.api.*</code></th>
<th class="tableblock halign-left valign-top">Import statement for using the following annotations.</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Test</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies a method as a test method.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@RepeatedTest(&lt;Number&gt;)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeats the test a &lt;Number&gt; of times</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@TestFactory</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Method is a Factory for dynamic tests</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@BeforeEach</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Executed before each test. It is used to
prepare the test environment (e.g., read input
data, initialize the class).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@AfterEach</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Executed after each test. It is used to cleanup the test environment (e.g., delete temporary data, restore defaults). It can also save memory by cleaning up expensive memory structures.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@BeforeAll</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Executed once, before the start of all tests.
It is used to perform time intensive activities, for example, to connect to a database. Methods marked with this annotation need to be defined as <code>static</code> to work with JUnit.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@AfterAll</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Executed once, after all tests have been finished.
It is used to perform clean-up activities, for example, to disconnect from a database. Methods annotated with this annotation need to be defined as <code>static</code> to work with JUnit.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Nested</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lets you nest inner test classes to force a certain execution order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Tag("&lt;TagName&gt;")</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tests in JUnit 5 can be filtered by tag. Eg., run only tests tagged with "fast".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@ExtendWith</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lets you register an Extension class that integrates with one or more extension points</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Disabled</code> or <code>@Disabled("Why disabled")</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Marks that the test should be disabled. This is useful when the
underlying code has been changed and the test case has not
yet
been
adapted. Or if the execution time of this test is too long
to be
included. It is best practice to provide
the optional
description, why the test is disabled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@DisplayName("&lt;Name&gt;")</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Name&gt; that will be displayed by the test runner. In contrast to method names the DisplayName can contain spaces.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="usingjunit_executionorder"><a class="link" href="#usingjunit_executionorder">10.4. Disabling tests</a></h3>
<div class="paragraph">
<p>The <code>@Disabled</code> annotation allows to statically ignore a test.</p>
</div>
<div class="paragraph">
<p>Alternatively  you can use <code>Assumptions.assumeFalse</code> or <code>Assumptions.assumeTrue</code> to define a condition for test deactivation.
<code>Assumptions.assumeFalse</code> marks the test as invalid, if its condition evaluates to true.
<code>Assumptions.assumeTrue</code> evaluates the test as invalid if its condition evaluates  to false.
For example, the following disables a test on Linux:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Assumptions.assumeFalse(<span class="predefined-type">System</span>.getProperty(<span class="string"><span class="delimiter">&quot;</span><span class="content">os.name</span><span class="delimiter">&quot;</span></span>).contains(<span class="string"><span class="delimiter">&quot;</span><span class="content">Linux</span><span class="delimiter">&quot;</span></span>));</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="test-suites"><a class="link" href="#test-suites">10.5. Test Suites</a></h3>
<div class="paragraph">
<p>To run multiple tests together, you can use test suites.
They allow to aggregate multiple test classes.
JUnit 5 provides two annotations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>@SelectPackages</code> - used to specify the names of packages for the test suite</p>
</li>
<li>
<p><code>@SelectClasses</code> - used to specify the classes for the test suite. They can be located in different packages.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@RunWith</span>(JUnitPlatform.class)
<span class="annotation">@SelectPackages</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">com.vogella.junit5.examples</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">AllTests</span> {}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@RunWith</span>(JUnitPlatform.class)
<span class="annotation">@SelectClasses</span>({AssertionTest.class, AssumptionTest.class, ExceptionTest.class})
<span class="directive">public</span> <span class="type">class</span> <span class="class">AllTests</span> {}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="expecting-exceptions"><a class="link" href="#expecting-exceptions">10.6. Expecting Exceptions</a></h3>
<div class="paragraph">
<p>Exception is handling with <code>org.junit.jupiter.api.Assertions.expectThrows()</code>.
You define the expected Exception class and provide code that should throw the exception.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.expectThrows</span>;

<span class="annotation">@Test</span>
<span class="type">void</span> exceptionTesting() {
    <span class="comment">// set up user</span>
    <span class="predefined-type">Throwable</span> exception = expectThrows(<span class="exception">IllegalArgumentException</span>.class, () -&gt; user.setAge(<span class="string"><span class="delimiter">&quot;</span><span class="content">23</span><span class="delimiter">&quot;</span></span>));
    assertEquals(<span class="string"><span class="delimiter">&quot;</span><span class="content">Age must be an Integer.</span><span class="delimiter">&quot;</span></span>, exception.getMessage());
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This lets you define which part of the test should throw the exception.
The test will still fail if an exception is thrown outside of this scope.</p>
</div>
</div>
<div class="sect2">
<h3 id="grouped-assertions"><a class="link" href="#grouped-assertions">10.7. Grouped assertions</a></h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Test</span>
<span class="type">void</span> groupedAssertions() {
    Address address = <span class="keyword">new</span> Address();
    <span class="comment">// In a grouped assertion all assertions are executed, even after a failure.</span>
    <span class="comment">// The error messages get grouped together.</span>
    assertAll(<span class="string"><span class="delimiter">&quot;</span><span class="content">address name</span><span class="delimiter">&quot;</span></span>,
        () -&gt; assertEquals(<span class="string"><span class="delimiter">&quot;</span><span class="content">John</span><span class="delimiter">&quot;</span></span>, address.getFirstName()),
        () -&gt; assertEquals(<span class="string"><span class="delimiter">&quot;</span><span class="content">User</span><span class="delimiter">&quot;</span></span>, address.getLastName())
    );
}
    =&gt; org.opentest4j.MultipleFailuresError: address name (<span class="integer">2</span> failures)
    expected: &lt;John&gt; but was: &lt;<span class="predefined-constant">null</span>&gt;
    expected: &lt;User&gt; but was: &lt;<span class="predefined-constant">null</span>&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="timeout-tests"><a class="link" href="#timeout-tests">10.8. Timeout tests</a></h3>
<div class="paragraph">
<p>If you want to ensure that a test fails if it isn&#8217;t done in a certain amount of time you can use the <code>assertTimeout()</code> method.
This method will wait until</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertTimeout</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">java.time.Duration.ofSeconds</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">java.time.Duration.ofMinutes</span>;

<span class="annotation">@Test</span>
<span class="type">void</span> timeoutNotExceeded() {
    assertTimeout(ofMinutes(<span class="integer">1</span>), () -&gt; service.doBackup());
}

<span class="comment">// if you have to check a return value</span>
<span class="annotation">@Test</span>
<span class="type">void</span> timeoutNotExceededWithResult() {
    <span class="predefined-type">String</span> actualResult = assertTimeout(ofSeconds(<span class="integer">1</span>), () -&gt; {
        <span class="keyword">return</span> restService.request(request);
    });
    assertEquals(<span class="integer">200</span>, request.getStatus());
}
=&gt; org.opentest4j.AssertionFailedError: execution exceeded timeout of <span class="integer">1000</span> ms by <span class="integer">212</span> ms</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want your tests to cancel after the timeout period is passed you can use the <code>assertTimeoutPreemptively()</code> method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Test</span>
<span class="type">void</span> timeoutNotExceededWithResult() {
    <span class="predefined-type">String</span> actualResult = assertTimeoutPreemptively(ofSeconds(<span class="integer">1</span>), () -&gt; {
        <span class="keyword">return</span> restService.request(request);
    });
    assertEquals(<span class="integer">200</span>, request.getStatus());
}
=&gt; org.opentest4j.AssertionFailedError: execution timed out after <span class="integer">1000</span> ms</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="running-the-same-test-repeatedly-on-a-data-set"><a class="link" href="#running-the-same-test-repeatedly-on-a-data-set">10.9. Running the same test repeatedly on a data set</a></h3>
<div class="paragraph">
<p>Sometimes we want to be able to run the same test on a data set.
Holding the data set in a Collection and iterating over it with the assertion in the loop body has the problem that the first assertion failure will stop the test execution.
JUnit 5 offers multiple ways to overcome this limitation.</p>
</div>
<div class="sect3">
<h4 id="dynamic_tests"><a class="link" href="#dynamic_tests">10.9.1. Using Dynamic Tests</a></h4>
<div class="paragraph">
<p>JUnit 5 offers the possibility to define dynamic tests.
We can use this to rewrite our example.
Dynamic test methods are annotated with <code>@TestFactory</code> and can return an Iterable, a Collection or a Stream of <code>DynamicTest</code>s.
JUnit then runs every DynamicTest when the test is executed.
<code>@BeforeEach</code> and <code>@AfterEach</code> methods will not be called for dynamic tests.
This means that you can&#8217;t use them to reset the test object if you change it&#8217;s state in the lambda expression for a dynamic test.</p>
</div>
<div class="paragraph">
<p>In this example we return a Stream:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions</span>.*;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.DynamicTest.dynamicTest</span>;

<span class="keyword">import</span> <span class="include">java.util.Arrays</span>;
<span class="keyword">import</span> <span class="include">java.util.stream.Stream</span>;

<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.DynamicTest</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.api.TestFactory</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">DynamicTestCreationTest</span> {

    <span class="annotation">@TestFactory</span>
    <span class="directive">public</span> Stream&lt;DynamicTest&gt; testMultiplyException() {
        MyClass tester = <span class="keyword">new</span> MyClass();
        <span class="type">int</span><span class="type">[]</span><span class="type">[]</span> data = <span class="keyword">new</span> <span class="type">int</span><span class="type">[]</span><span class="type">[]</span> { { <span class="integer">1</span>, <span class="integer">2</span>, <span class="integer">2</span> }, { <span class="integer">5</span>, <span class="integer">3</span>, <span class="integer">15</span> }, { <span class="integer">121</span>, <span class="integer">4</span>, <span class="integer">484</span> } };
        <span class="keyword">return</span> <span class="predefined-type">Arrays</span>.stream(data).map(entry -&gt; {
            <span class="type">int</span> m1 = entry[<span class="integer">0</span>];
            <span class="type">int</span> m2 = entry[<span class="integer">1</span>];
            <span class="type">int</span> expected = entry[<span class="integer">2</span>];
            <span class="keyword">return</span> dynamicTest(m1 + <span class="string"><span class="delimiter">&quot;</span><span class="content"> * </span><span class="delimiter">&quot;</span></span> + m2 + <span class="string"><span class="delimiter">&quot;</span><span class="content"> = </span><span class="delimiter">&quot;</span></span> + expected, () -&gt; {
                assertEquals(expected, tester.multiply(m1, m2));
            });
        });
    }

    <span class="comment">// class to be tested</span>
    <span class="type">class</span> <span class="class">MyClass</span> {
        <span class="directive">public</span> <span class="type">int</span> multiply(<span class="type">int</span> i, <span class="type">int</span> j) {
            <span class="keyword">return</span> i * j;
        }
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="using-parameterized-tests"><a class="link" href="#using-parameterized-tests">10.9.2. Using Parameterized Tests</a></h4>
<div class="paragraph">
<p>Junit5 also supports parameterized tests.
To use them you have to add the <code>junit-jupiter-params</code> package as a test dependencies.
If you are using gradle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">dependencies {
  <span class="comment">// ..</span>
  testCompile <span class="key">group</span>: <span class="string"><span class="delimiter">'</span><span class="content">org.junit.jupiter</span><span class="delimiter">'</span></span>, <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">junit-jupiter-params</span><span class="delimiter">'</span></span>, <span class="key">version</span>: <span class="string"><span class="delimiter">'</span><span class="content">5.0.0</span><span class="delimiter">'</span></span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>For this example we use the <code>@MethodSource</code> annotation.
We give it the name of the function(s) we want it to call to get it&#8217;s test data.
The function has to be static and must return either a Collection, an Iterator, a Stream or an Array.
On execution the test method gets called once for every entry in the data source.
In contrast to <a href="#dynamic_tests">Dynamic Tests</a> <code>@BeforeEach</code> and <code>@AfterEach</code> methods will be called for parameterized tests.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions</span>.*;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.params.ParameterizedTest</span>;
<span class="keyword">import</span> <span class="include">org.junit.jupiter.params.provider.MethodSource</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">DynamicTestCreationTest</span> {

    <span class="directive">public</span> <span class="directive">static</span> <span class="type">int</span><span class="type">[]</span><span class="type">[]</span> data() {
        <span class="keyword">return</span> <span class="keyword">new</span> <span class="type">int</span><span class="type">[]</span><span class="type">[]</span> { { <span class="integer">1</span> , <span class="integer">2</span>, <span class="integer">2</span> }, { <span class="integer">5</span>, <span class="integer">3</span>, <span class="integer">15</span> }, { <span class="integer">121</span>, <span class="integer">4</span>, <span class="integer">484</span> } };
    }

    <span class="annotation">@ParameterizedTest</span>
    <span class="annotation">@MethodSource</span>(names = <span class="string"><span class="delimiter">&quot;</span><span class="content">data</span><span class="delimiter">&quot;</span></span>)
    <span class="type">void</span> testWithStringParameter(<span class="type">int</span><span class="type">[]</span> data) {
        MyClass tester = <span class="keyword">new</span> MyClass();
        <span class="type">int</span> m1 = data[<span class="integer">0</span>];
        <span class="type">int</span> m2 = data[<span class="integer">1</span>];
        <span class="type">int</span> expected = data[<span class="integer">2</span>];
        assertEquals(expected, tester.multiply(m1, m2));
    }

    <span class="comment">// class to be tested</span>
    <span class="type">class</span> <span class="class">MyClass</span> {
        <span class="directive">public</span> <span class="type">int</span> multiply(<span class="type">int</span> i, <span class="type">int</span> j) {
            <span class="keyword">return</span> i * j;
        }
    }
}</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="data-sources"><a class="link" href="#data-sources">Data sources</a></h5>
<div class="paragraph">
<p>The following table gives an overview of all possible test data sources for parameterized tests.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 4. Table Parameterized Tests Data Sources</caption>
<colgroup>
<col style="width: 66.6666%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Annotation</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ValueSource</span>(ints = { <span class="integer">1</span>, <span class="integer">2</span>, <span class="integer">3</span> })</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lets you define an array of test values.
Permissible types are <code>String</code>, <code>int</code>, <code>long</code>, or <code>double</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@EnumSource</span>(value = Months.class, names = {<span class="string"><span class="delimiter">&quot;</span><span class="content">JANUARY</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">FEBRUARY</span><span class="delimiter">&quot;</span></span>})</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lets you pass Enum constants as test class.
With the optional attribute <code>names</code> you can choose which constants should be used.
Otherwise all attributes are used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@MethodSource</span>(names = <span class="string"><span class="delimiter">&quot;</span><span class="content">genTestData</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The result of the named method is passed as argument to the test.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@CsvSource</span>({ <span class="string"><span class="delimiter">&quot;</span><span class="content">foo, 1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">'baz, qux', 3</span><span class="delimiter">&quot;</span></span> })
<span class="type">void</span> testMethod(<span class="predefined-type">String</span> first, <span class="type">int</span> second) {</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expects strings to be parsed as Csv. The delimiter is <code>','</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ArgumentsSource</span>(MyArgumentsProvider.class)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a class that provides the test data.
The referenced class has to implement the <code>ArgumentsProvider</code> interface.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="argument-conversion"><a class="link" href="#argument-conversion">Argument conversion</a></h5>
<div class="paragraph">
<p>JUnit tries to automatically convert the source strings to match the expected arguments of the test method.</p>
</div>
<div class="paragraph">
<p>If you need explicit conversion you can specify a converter with the <code>@ConvertWith</code> annotation.
To define your own converter you have to implement the <code>ArgumentConverter</code> interface.
In the following example we use the abstract <code>SimpleArgumentConverter</code> base class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ParameterizedTest</span>
<span class="annotation">@ValueSource</span>(ints = {<span class="integer">1</span>, <span class="integer">12</span>, <span class="integer">42</span>})
<span class="type">void</span> testWithExplicitArgumentConversion(<span class="annotation">@ConvertWith</span>(ToOctalStringArgumentConverter.class) <span class="predefined-type">String</span> argument) {
    <span class="predefined-type">System</span>.err.println(argument);
    assertNotNull(argument);
}

<span class="directive">static</span> <span class="type">class</span> <span class="class">ToOctalStringArgumentConverter</span> <span class="directive">extends</span> SimpleArgumentConverter {
    <span class="annotation">@Override</span>
    <span class="directive">protected</span> <span class="predefined-type">Object</span> convert(<span class="predefined-type">Object</span> source, <span class="predefined-type">Class</span>&lt;?&gt; targetType) {
        assertEquals(<span class="predefined-type">Integer</span>.class, source.getClass(), <span class="string"><span class="delimiter">&quot;</span><span class="content">Can only convert from Integers.</span><span class="delimiter">&quot;</span></span>);
        assertEquals(<span class="predefined-type">String</span>.class, targetType, <span class="string"><span class="delimiter">&quot;</span><span class="content">Can only convert to String</span><span class="delimiter">&quot;</span></span>);
        <span class="keyword">return</span> <span class="predefined-type">Integer</span>.toOctalString((<span class="predefined-type">Integer</span>) source);
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="usingjunit_annotations"><a class="link" href="#usingjunit_annotations">11. Comparison of annotations between JUnit 4 and 5</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 5. Annotations</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 22.2222%;">
<col style="width: 44.4445%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">JUnit 5</th>
<th class="tableblock halign-left valign-top">JUnit 4</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>import org.junit.jupiter.api.*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>import org.junit.*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import statement for using the following annotations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Test</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Test</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies a method as a test method.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@BeforeEach</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Before</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Executed before each test. It is used to
prepare the test environment (e.g., read input
data, initialize the class).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@AfterEach</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@After</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Executed after each test. It is used to cleanup the test environment (e.g., delete temporary data, restore defaults). It can also save memory by cleaning up expensive memory structures.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@BeforeAll</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@BeforeClass</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Executed once, before the start of all tests.
It is used to perform time intensive activities, for example, to connect to a database. Methods marked with this annotation need to be defined as <code>static</code> to work with JUnit.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@AfterAll</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@AfterClass</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Executed once, after all tests have been finished.
It is used to perform clean-up activities, for example, to disconnect from a database. Methods annotated with this annotation need to be defined as <code>static</code> to work with JUnit.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Disabled</code> or <code>@Disabled("Why disabled")</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Ignore</code> or <code>@Ignore("Why disabled")</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Marks that the test should be disabled. This is useful when the
underlying code has been changed and the test case has not
yet
been
adapted. Or if the execution time of this test is too long
to be
included. It is best practice to provide
the optional
description, why the test is disabled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not available, is replaced by <code>org.junit.jupiter.api.Assertions.expectThrows()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Test (expected = Exception.class)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fails if the method does not throw the named exception.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not available, is replaced by <code>AssertTimeout.assertTimeout()</code> and <code>AssertTimeout.assertTimeoutPreemptively()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Test(timeout=100)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fails if the method takes longer than 100 milliseconds.</p></td>
</tr>
</tbody>
</table>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Responsive - Before Support -->
<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3851443674951530" data-ad-slot="2058601532" data-ad-format="auto"></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({});</script>
</div>
</div>

</div>


    </div>

    
  </body>
</html>